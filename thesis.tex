%!TEX encoding = UTF-8 Unicode

% rubber: path ./sty
% rubber: path ./fig
% rubber: path ./img
% rubber: path ./inputs
% rubber: shell_escape

% The structure of this document is based on the my-thesis.tex example provided
% with the cleanthesis package (see http://cleanthesis.der-ric.de/).
% It also is inspired by the PhD manuscripts of RaphaÃ«l Bleuse, David Beniamine
% (see https://github.com/dbeniamine/Ph.D_thesis) and David Glesser.
% Uneeded packages and comments have been stripped out.

\pdfobjcompresslevel 0  % Produce PDF file respecting CINES requirements

\documentclass[%
    paper=A4,              % paper size
    twoside=true,          % onesite or twoside printing
    openright,             % doublepage cleaning ends up right side
    parskip=half,          % spacing value / method for paragraphs
    chapterprefix=true,    % prefix for chapter marks
    11pt,                  % font size
    headings=normal,       % size of headings
    bibliography=totoc,    % include bib in toc
    listof=totoc,          % include listof entries in toc
    titlepage=on,          % own page for each title page
    captions=tableabove,   % display table captions above the float env
    chapterprefix=false,   % do not display a prefix for chapters
    appendixprefix=false,  % do not display a prefix for appendix chapters
    draft=false,           % value for draft version
]{scrreprt}


% === PACKAGES IMPORT / CONFIGURATION =========================================

% --- ENCODING / FONTS -----------------

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
% \usepackage{kpfonts}

% --- i18n, l10n -----------------------

\usepackage[french,english]{babel}  % load default language last
\usepackage[french,english]{isodate}  % load default language last

% --- PAGE SETTING ---------------------

\usepackage[%
    figuresep=colon,          % label separator for captions
    hangfigurecaption=false,  % use hanging figure label (within margin)
    hangsection=true,         % use hanging section label (within margin)
    hangsubsection=true,      % use hanging subsection label (within margin)
    colorize=full,            % define color mode
    colortheme=bluemagenta,   % what colors to use
    bibsys=biber,             % citation manamgement engine
    bibfile=references,       % bibtex file
    bibstyle=alphabetic,      % reference style
]{cleanthesis}

% --- GRAPHICS / FIGURES ---------------

\usepackage{epsfig}  % XXX: to be removed when CCPE figures are out

\newcommand{\SetFigFont}[3]{\fontsize{#1}{#2pt}\normalfont\sffamily}  % XXX: to be removed when CCPE figures are out

% --- MATHEMATICS TYPESETTING ----------

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

% --- MODULAR CHAPTER COMPILATION -----

\usepackage{etoolbox}

% --- MISC. PACKAGES -------------------

\usepackage[a4paper]{uga}  % UGA title page style (see titlepage.tex)
\usepackage{xspace}  % easy macros definition
\usepackage{booktabs}
\usepackage[font=footnotesize]{subfig} 
\usepackage[ruled]{algorithm2e}

% --- PDF SUPPORT ----------------------

\usepackage{hyperref}  % import as last package

\hypersetup{
    unicode=true,
    plainpages=false,
    colorlinks=false,
    pdfborder={0 0 0},
    breaklinks=true,  % allow line breaks inside links
    bookmarksnumbered=true,
    bookmarksopen=true,
}

% --- Custom TODO line ------------------------
\usepackage{mdframed}
\newmdenv[%
  linecolor=red,%
  backgroundcolor=red!20,%
  linewidth=3pt,%
  hidealllines=true,%
  leftline=true,%
]{todoenv}
\newcommand{\todo}[1]{\begin{todoenv}#1\end{todoenv}}
\newcommand{\todoC}[1]{\todo{#1}}


% === MACROS DEFINITION =======================================================

% --- COMMON ABBREVIATIONS MACROS -------------

% latin abbreviations, see:
%   - http://www.sussex.ac.uk/informatics/punctuation/capsandabbr/abbr
% comment by Sascha Hunold, see also:
%   - https://www.ieee.org/documents/style_manual.pdf
%     (p. 32, Short Reference List of Italics)
%   - http://web.ece.ucdavis.edu/~jowens/commonerrors.html

\newcommand{\eg}{e.g.\@\xspace}
\newcommand{\ie}{i.e.\@\xspace}
\newcommand{\resp}{resp.\@\xspace}

% --- SPECIFIC ABBREVIATIONS MACROS -------------

\input{macros.local.tex}
\input{macros.include.tex}

% === META DATA ===============================================================

\title{The English Title}
\author{John \textsc{Doe}}

% fill pdf meta data
\makeatletter
\hypersetup{pdftitle={Manuscript Template}}
\hypersetup{pdfsubject={The English Title}}
\hypersetup{pdfauthor=\@author}
\makeatother

% === DOCUMENT CONTENT ========================================================

\begin{document}

% --- FRONT MATTER ---------------------

\pdfbookmark[-1]{Front Matter}{Front Matter}

\pagenumbering{gobble}  % do not count title page
\pagestyle{empty}  % no header nor footer

\input{titlepage.tex} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\pagenumbering{roman}  % roman page numbering (e.g., i ii iii), reset counter

\input{dedication.tex} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\input{epigraph.tex} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\pagestyle{plain}  % display page number only

\input{acknowledgments.tex} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\input{abstract-front.tex} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\setcounter{tocdepth}{2}  % define depth of ToC
\phantomsection\addcontentsline{toc}{chapter}{{\contentsname}}  % display ToC to ToC
\tableofcontents %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

% --- MAIN MATTER ----------------------

\pdfbookmark[-1]{Main Matter}{Main Matter}

\pagenumbering{arabic}  % arabic page numbering (e.g., 1 2 3), reset counter
\pagestyle{scrheadings}  % display header and footer
\addtocontents{toc}{\bigskip}  % visual hint for numbering change in ToC



% main chapters go here
\inputchapter{\includechapterintroduction}{chapter_introduction.tex}
\inputchapter{\includechapterconclusion}{chapter_conclusion.tex}


% --- BACK MATTER ----------------------

\pdfbookmark[-1]{Back Matter}{Back Matter}

\pagenumbering{arabic}  % arabic page numbering (e.g., 1 2 3), reset counter
\renewcommand*{\thepage}{A\arabic{page}}  % prepend A to appendix page number
\pagestyle{scrheadings}  % display header and footer
\addtocontents{toc}{\bigskip}  % visual hint for numbering change in ToC

\appendix
\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

{
    \setstretch{1.1}
    \renewcommand{\bibfont}{\normalfont\small}
    \setlength{\biblabelsep}{0pt}
    \setlength{\bibitemsep}{0.5\baselineskip plus 0.5\baselineskip}
    \printbibliography
}

{\listoffigures \let\cleardoublepage\  \listoftables} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS



 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% List of publications %%%%%%%%%%%%%%%%%
% {
%     \clearpage
%     Additionally, the work conducted in this dissertation directly led to the
%     following communications.

%     \begin{refsection}
%     \makeatletter\@beginparpenalty=10000\makeatother  % prevent page break before list
%     \defbibenvironment{itembib}{\itemize}{\enditemize}{\item}
%     \nocite{*}
%     %
%     \paragraph{Peer-reviewed international conferences}
%     \printbibliography[heading=none,env=itembib,keyword={own},keyword={conference}]
%     %
%     \paragraph{Peer-reviewed international workshops}
%     \printbibliography[heading=none,env=itembib,keyword={own},keyword={workshop}]
%     \paragraph{National workshops}
%     \printbibliography[heading=none,env=itembib,keyword={own},keyword={nworkshop}]
%     \end{refsection}
% }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% List of publications %%%%%%%%%%%%%%%%%


\cleardoublepage %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS

% --- BACK COVER -----------------------

\pagenumbering{gobble}  % do not count any more
\pagestyle{empty}  % no header nor footer

\cleardoubleevenpage  % ensure even page for back cover %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS
\input{backcover} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  COMMENTED OUT FOR SEPARATE CHAPTER COMPILATIONS


% === END OF DOCUMENT =========================================================

\end{document}
